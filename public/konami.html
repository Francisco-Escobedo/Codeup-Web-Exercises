<!DOCTYPE html>
<html>
<head>
    <title> Konami Code</title>
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
</head>
<body>
    <h1 class='heading'><font face = "verdana">Please Enter Konami Code</font></h1>

    <image src = "/img/konamicode.gif" alt = "The Code" id="konamiPic">

    <script>
    $(document).ready(function() {
        "use strict";

            //Sets array and desired string to 
            var konamikeys = {
                up:   38,
                down: 40,
                left: 37,
                right:39,
                b:    66,
                a:    65,
                enter:13

            };

            var sequence = [
                konamikeys.up,
                konamikeys.up,
                konamikeys.down,
                konamikeys.down,
                konamikeys.left,
                konamikeys.right,
                konamikeys.left,
                konamikeys.right,
                konamikeys.b,
                konamikeys.a,
            ];

            var keyIndex=0;

            $("body").keyup(function(e) {
                var charCode = (typeof e.which == "number") ? e.which : e.keyCode;

                if (charCode == sequence[keyIndex]) {
                console.log("hit: " + charCode);
                keyIndex++;
                if (keyIndex == sequence.length) {
                    console.log("A Winner Is You!");
                    $(document).unbind('keyup');
            
                    // konami code worked
                    alert('You have added 30 lives!');

                    $('body').css({
                        'background-image':'url(/img/contra.jpg)',
                        'background-attachment' : 'fixed',
                        'background-size' : '100%'

                    });
                    // add timeout
                    $('body').append('<embed src="/sound/contra.mp3" autostart="true" hidden="true" loop="true">');
                    //hides konami picture
                    $('#konamiPic, .heading').hide();
                        keyIndex = 0;
                }
                } else {
                console.log("miss: " + charCode);
                keyIndex = 0;
                }


                


                

            });

    });
    </script>


</body>
</html>